<html>
    <head>
        <title>party-line</title>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
            .site {
                display: grid;
                grid-template-columns: 1fr;
                grid-template-rows: 1fr 1fr 1fr 1fr;
                grid-template-areas: 
                    "header"
                    "main"
                    "extra"
                    "footer";
                height: auto;
                overflow-x: hidden;
            }

            .header {
                grid-area: header;
                background-color: #FF6EFF;
                min-width: 0;
            }

            .main {
                grid-area: main;
                background-color: #66FF66;
                min-width: 0;
            }

            .footer {
                grid-area: footer;
                background-color: #FF9933;
                min-width: 0;
            }

            .extra {
                grid-area: extra;
                background-color: #50BFE6;
                min-width: 0;
            }

            .cool-site {
                height: 100%;
                width: 100%;
                border: none;
                max-height: 600px;
                min-height: 300px;
                min-width: 0;
            }

            h1 {
                margin: 0;
            }

            @media (min-width: 600px) {
                .site {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    grid-template-rows: 1fr 1fr 1fr;
                    grid-template-areas: 
                        "main main header"
                        "main main extra"
                        "footer footer footer";
                    overflow-x: hidden;
                }

                .cool-site {
                    width: 200%;
                    height: 200%;
                    max-height: 1200px;
                    -moz-transform:scale(0.5);
                    -moz-transform-origin: 0 0;
                    -o-transform: scale(0.5);
                    -o-transform-origin: 0 0;
                    -webkit-transform: scale(0.5);
                    -webkit-transform-origin: 0 0;
                    min-height: auto;
                }

                .header {
                    text-align: right;
                }
            }
        </style>
    </head>
    <body class='site'>
        <header class='header'>
            <h1>PARTY LINE</h1>
            <h2>UNCENTRAL!</h2>
        </header>
        <main class="main">
            <p>Party Line is a chat application.</p>
            <p>Download the source from <a href="https://github.com/douggard/party-line">the source thing</a>.</p>
            <p>Try the 64 bit binaries</p>
            <ul>
                <li><a href="https://github.com/TACIXAT/party-line/releases/download/0.1/party-line-linux">Linux</a> (tested on GNU/Windows Subsystem for Linux!)</li>
                <li><a href="https://github.com/TACIXAT/party-line/releases/download/0.1/party-line-win.exe">Windows</a> (<a href="https://www.virustotal.com/#/file/f015b4df7e33e128a8603f14647d9210238b1798874ed6b1a535efeede3329db">"绝对是流氓软件！" -Jiangmin AV</a>)</li>
                <li><a href="https://github.com/TACIXAT/party-line/releases/download/0.1/party-line-macos">MacOS</a></li>
            </ul>
            <p>How to run (linux):</p>
            <pre>
    wget [copy link from precompiled binary]
    chmod +x [downloaded binary]
    ./[downloaded binary]
            </pre>
            <p>Using source:</p>
            <pre>
    git clone https://github.com/douggard/party-line.git
    cd party-line
    go get ./...
    go run *.go
            </pre>
            <p>It should auto connect to one of the permanent nodes. If anyone is online you'll be connected to them.</p>
            <p>Network should either have no nat (e.g. vps) or support upnp (e.g. home router). If you're on a VPN that enables port forwarding you can set use the options <pre>-nonat -ip $EXT_IP -port $EXT_PORT</pre> to set things up manually.</p>
        </main>
        <extra class="extra">
            <iframe class='cool-site' src="https://en.wikipedia.org/wiki/Party_line_(telephony)"></iframe>
        </extra>
        <footer class='footer'>
            <!-- <p>network is <del>live</del></p> -->
            <p>network is live!</p>
        </footer>
        
        <script>
            var header = document.getElementsByTagName("header")[0];
            setInterval(function() {
                var curr = header.style["text-align"];
                header.style["text-align"] = curr == "right" ? "left" : "right";
            }, 500)
        </script>
    </body>
</html>